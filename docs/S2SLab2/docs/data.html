<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Data Structures | S2S Lab 2</title>
  <meta name="description" content="3 Data Structures | S2S Lab 2" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Data Structures | S2S Lab 2" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Data Structures | S2S Lab 2" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="packages.html"/>
<link rel="next" href="exercises.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="chapter" data-level="2" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>2</b> Packages</a></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#arrays"><i class="fa fa-check"></i><b>3.1</b> Arrays</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#mat"><i class="fa fa-check"></i><b>3.2</b> Matrices</a>
<ul>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#creating-matrices"><i class="fa fa-check"></i>Creating matrices</a></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#naming-rows-and-columns"><i class="fa fa-check"></i>Naming rows and columns</a></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#dimension-reduction"><i class="fa fa-check"></i>Dimension reduction</a></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#calculating-statistics"><i class="fa fa-check"></i>Calculating statistics</a></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#vectormatrix-multiplication"><i class="fa fa-check"></i>Vector/Matrix multiplication</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#fact"><i class="fa fa-check"></i><b>3.3</b> Factors</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#df"><i class="fa fa-check"></i><b>3.4</b> Data frames</a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#list"><i class="fa fa-check"></i><b>3.5</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>4</b> Further Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">S2S Lab 2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Data Structures<a href="data.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>R uses various different types of 'data structures' which are really just ways to store information of varying types. A lot of the data structures R uses are defined in terms of vectors, so it is important you are familiar with constructing and manipulating vectors in R (see <a href="https://s2s-statistical-mm-c-1.github.io/Labs/S2SLab1/docs/">S2S Lab 1</a>).</p>
<p>Some of the common data structures we will become familiar with are;</p>
<ul>
<li><a href="https://s2s-statistical-mm-c-1.github.io/Labs/S2SLab1/docs/vectors.html"><strong>vectors</strong></a> (covered in <a href="https://s2s-statistical-mm-c-1.github.io/Labs/S2SLab1/docs/">Lab 1</a>)</li>
<li><a href="data.html#arrays"><strong>arrays</strong></a></li>
<li><a href="data.html#mat"><strong>matrices</strong></a></li>
<li><a href="data.html#fact"><strong>factors</strong></a></li>
<li><a href="data.html#df"><strong>data frames</strong></a></li>
<li><a href="data.html#list"><strong>lists</strong></a></li>
</ul>
<hr />
<p>Each of the data structures presented here are covered using additional examples in <a href="https://read.kortext.com/reader/pdf/92741/21">Section 1.9 R Data Structures</a> of <em>Probability and Statistics with R</em>.</p>
<div id="arrays" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Arrays<a href="data.html#arrays" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Arrays are defined as multidimensional arrangements of elements. This means that rather than storing data in a one dimensional vector, you can spread the elements of this vector across multiple dimensions.</p>
<p>This sounds quite complicated so let's look at an example. First, let's create a long vector of the numbers 1 up to 24 to give us elements to populate this array with.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data.html#cb3-1" tabindex="-1"></a>vect <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span></span></code></pre></div>
<p>We can then use the <code>array()</code> function to turn the vector <code>vect</code> into an array. The <code>array()</code> function takes the following arguments:</p>
<ul>
<li><code>data =</code>: this is the vector of elements that we want to populate the array with.</li>
<li><code>dim =</code>: this is another vector giving the maximum number of rows first, then the maximum number of columns and finally the maximum number of 'layers'.</li>
</ul>
<p>We can turn <code>vect</code> into an array, called <code>A1</code>, using the following code.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data.html#cb4-1" tabindex="-1"></a>A1 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">data =</span> vect, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>))</span>
<span id="cb4-2"><a href="data.html#cb4-2" tabindex="-1"></a>A1</span></code></pre></div>
<pre><code>, , 1

     [,1] [,2] [,3] [,4]
[1,]    1    3    5    7
[2,]    2    4    6    8

, , 2

     [,1] [,2] [,3] [,4]
[1,]    9   11   13   15
[2,]   10   12   14   16

, , 3

     [,1] [,2] [,3] [,4]
[1,]   17   19   21   23
[2,]   18   20   22   24</code></pre>
<p>Here we have populated <code>A1</code> with the values 1 to 24, so that it has dimensions 2 <span class="math inline">\(\times\)</span> 4 <span class="math inline">\(\times\)</span> 3. This means that we have created 3 layers where each layer is a 2 <span class="math inline">\(\times\)</span> 4 matrix.</p>
<p>The values from <code>vect</code> are entered into <code>A1</code> going down the columns first, then moving from left to right before moving onto the next layer. This order of entering elements is called column-major order, since columns are filled in first.</p>
<hr />
<p>You can learn more about creating arrays in <a href="https://read.kortext.com/reader/pdf/92741/21">Section 1.9.1 Arrays and Matrices</a> of <em>Probability and Statistics with R</em>.</p>
</div>
<div id="mat" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Matrices<a href="data.html#mat" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="creating-matrices" class="section level3 unnumbered hasAnchor">
<h3>Creating matrices<a href="data.html#creating-matrices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Matrices can be thought of as two dimensional arrays i.e. they don't have an argument saying how many layers they should contain. Therefore, matrices can also be created using the <code>array()</code> function and ensuring that the <code>dim =</code> argument is provided with a vector only of length two. This vector then corresponds to the number of rows and columns, respectively, that the matrix has.</p>
<p>To create a matrix called <code>M1</code>, which is populated with the elements from <code>vect</code> and has 6 rows and 4 columns, we can use the following code.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data.html#cb6-1" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">data =</span> vect, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb6-2"><a href="data.html#cb6-2" tabindex="-1"></a>M1</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    7   13   19
[2,]    2    8   14   20
[3,]    3    9   15   21
[4,]    4   10   16   22
[5,]    5   11   17   23
[6,]    6   12   18   24</code></pre>
<p>Since <code>M1</code> has dimensions 6 <span class="math inline">\(\times\)</span> 4, it contains 24 elements - the same number of elements as is in the vector <code>vect</code>. If instead we had defined dimensions which gave fewer than 24 elements for <code>M1</code>, then <code>array()</code> would go through and fill in the elements of <code>M1</code> with the elements of <code>vect</code> in column-major order, until there were no spaces left to fill. This would mean that not all the values from <code>vect</code> would appear in <code>M1</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data.html#cb8-1" tabindex="-1"></a><span class="fu">array</span>(<span class="at">data =</span> vect, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>     [,1] [,2]
[1,]    1    7
[2,]    2    8
[3,]    3    9
[4,]    4   10
[5,]    5   11
[6,]    6   12</code></pre>
<p>If we had defined the dimensions so that <code>M1</code> contained more than 24 elements, then the values of <code>vect</code> would be repeated for as long as necessary until all of the elements of <code>M1</code> have a value.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data.html#cb10-1" tabindex="-1"></a><span class="fu">array</span>(<span class="at">data =</span> vect, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">5</span>))</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    7   13   19    1
[2,]    2    8   14   20    2
[3,]    3    9   15   21    3
[4,]    4   10   16   22    4
[5,]    5   11   17   23    5
[6,]    6   12   18   24    6</code></pre>
<div class="webex-box">
<p><strong>Use the <code>array()</code> function and the <code>letters</code> vector to create a 5 <span class="math inline">\(\times\)</span> 5 matrix containing the letters of the alphabet in column-major order, up to "y".</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data.html#cb12-1" tabindex="-1"></a><span class="fu">array</span>(<span class="at">data =</span> letters, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,] &quot;a&quot;  &quot;f&quot;  &quot;k&quot;  &quot;p&quot;  &quot;u&quot; 
[2,] &quot;b&quot;  &quot;g&quot;  &quot;l&quot;  &quot;q&quot;  &quot;v&quot; 
[3,] &quot;c&quot;  &quot;h&quot;  &quot;m&quot;  &quot;r&quot;  &quot;w&quot; 
[4,] &quot;d&quot;  &quot;i&quot;  &quot;n&quot;  &quot;s&quot;  &quot;x&quot; 
[5,] &quot;e&quot;  &quot;j&quot;  &quot;o&quot;  &quot;t&quot;  &quot;y&quot; </code></pre>
</div>
</div>
<p>It is also possible to create matrices using the <code>matrix()</code> function. This has the advantage of allowing you to specify whether the elements should be filled in using column-major order or row-major order (where the elements are filled in from left to right along rows and then from top to bottom). The arguments that the <code>matrix()</code> function can be given are:</p>
<ul>
<li><code>data =</code>: this is the vector of elements that we want to fill in the matrix with.</li>
<li><code>nrow =</code>: this is the number of rows the matrix should contain.</li>
<li><code>ncol =</code>: this is the number of columns the matrix should contain.</li>
<li><code>byrow =</code>: this takes values <code>TRUE</code> or <code>FALSE</code> and states whether the elements should be entered in row-major order (<code>TRUE</code>) or column-major order (<code>FALSE</code>). By default, the value is <code>FALSE</code> and elements will be entered in column-major order if you miss out this argument.</li>
</ul>
<p>Only one of <code>nrow =</code> or <code>ncol =</code> needs to be included in the <code>matrix()</code> function because R will automatically calculate how many of the non-specified argument are required, based on the length of the vector given to <code>data =</code>.</p>
<p>We can create the same matrix as <code>M1</code> using the <code>matrix()</code> function. Let's call it <code>M2</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data.html#cb14-1" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> vect, <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-2"><a href="data.html#cb14-2" tabindex="-1"></a>M2</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    7   13   19
[2,]    2    8   14   20
[3,]    3    9   15   21
[4,]    4   10   16   22
[5,]    5   11   17   23
[6,]    6   12   18   24</code></pre>
<p>If we wanted to fill in the elements in row-major order, then we could instead use the following code.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data.html#cb16-1" tabindex="-1"></a>M3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> vect, <span class="at">nrow =</span> <span class="dv">6</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-2"><a href="data.html#cb16-2" tabindex="-1"></a>M3</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    5    6    7    8
[3,]    9   10   11   12
[4,]   13   14   15   16
[5,]   17   18   19   20
[6,]   21   22   23   24</code></pre>
<div class="webex-box">
<p><strong>Create a 5 <span class="math inline">\(\times\)</span> 5 matrix containing the first 25 letters of the alphabet using <code>matrix()</code>. Fill in the elements in row-major order.</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data.html#cb18-1" tabindex="-1"></a><span class="fu">matrix</span>(<span class="at">data =</span> letters, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>Warning in matrix(data = letters, nrow = 5, ncol = 5, byrow = TRUE): data
length [26] is not a sub-multiple or multiple of the number of rows [5]</code></pre>
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,] &quot;a&quot;  &quot;b&quot;  &quot;c&quot;  &quot;d&quot;  &quot;e&quot; 
[2,] &quot;f&quot;  &quot;g&quot;  &quot;h&quot;  &quot;i&quot;  &quot;j&quot; 
[3,] &quot;k&quot;  &quot;l&quot;  &quot;m&quot;  &quot;n&quot;  &quot;o&quot; 
[4,] &quot;p&quot;  &quot;q&quot;  &quot;r&quot;  &quot;s&quot;  &quot;t&quot; 
[5,] &quot;u&quot;  &quot;v&quot;  &quot;w&quot;  &quot;x&quot;  &quot;y&quot; </code></pre>
<p>Here, we have to use both <code>nrow =</code> and <code>ncol =</code> to force the matrix to be 5 <span class="math inline">\(\times\)</span> 5. Since there are 26 letters in the alphabet, <code>matrix()</code> will first try to repeat them so that they are all included if only one of the number of rows or columns is specified (e.g. resulting in 6 columns if only 5 rows is specified), rather than leaving letters out.</p>
<p>This is why we also see the warning telling us that the length of <code>letters</code> is not a multiple of 5.</p>
</div>
</div>
<!-- dimensions of matrices -->
<p>To check the dimensions of a matrix (or an array), we use the function <code>dim()</code>. For matrices, this will return a vector of length 2 where the first value is the number of rows and the second value is the number of columns.</p>
<p>For example we can see that <code>M1</code> has 6 rows and 4 columns using the following code.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data.html#cb21-1" tabindex="-1"></a><span class="fu">dim</span>(M1)</span></code></pre></div>
<pre><code>[1] 6 4</code></pre>
</div>
<div id="naming-rows-and-columns" class="section level3 unnumbered hasAnchor">
<h3>Naming rows and columns<a href="data.html#naming-rows-and-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- row/column names of matrices using dimnames() -->
<p>It is possible to name rows and columns of a matrix. This is useful if it holds some data corresponding to different variables that you want to label, for example we might want to represent the following table, showing the number of births recorded in four different cities in Scotland in the years 2017, 2018 and 2019, as a matrix.</p>
<table>
<caption><span id="tab:birthtable">Table 3.1: </span>Recorded births in Scottish cities in 2017, 2018, 2019.</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">2017</th>
<th align="right">2018</th>
<th align="right">2019</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Edinburgh</td>
<td align="right">5033</td>
<td align="right">4899</td>
<td align="right">4683</td>
</tr>
<tr class="even">
<td align="left">Glasgow</td>
<td align="right">6852</td>
<td align="right">6548</td>
<td align="right">6553</td>
</tr>
<tr class="odd">
<td align="left">Aberdeen</td>
<td align="right">2402</td>
<td align="right">2337</td>
<td align="right">2260</td>
</tr>
<tr class="even">
<td align="left">Dundee</td>
<td align="right">1493</td>
<td align="right">1488</td>
<td align="right">1417</td>
</tr>
</tbody>
</table>
<p>We can create a matrix containing these values and then name the rows and columns using the following code.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data.html#cb23-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5033</span>, <span class="dv">4899</span>, <span class="dv">4683</span>, <span class="dv">6852</span>, <span class="dv">6548</span>, <span class="dv">6553</span>, <span class="dv">2402</span>, <span class="dv">2337</span>, <span class="dv">2260</span>, <span class="dv">1493</span>, <span class="dv">1488</span>, <span class="dv">1417</span>)</span>
<span id="cb23-2"><a href="data.html#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="data.html#cb23-3" tabindex="-1"></a>births <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> data, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-4"><a href="data.html#cb23-4" tabindex="-1"></a></span>
<span id="cb23-5"><a href="data.html#cb23-5" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Edinburgh&quot;</span>, <span class="st">&quot;Glasgow&quot;</span>, <span class="st">&quot;Aberdeen&quot;</span>, <span class="st">&quot;Dundee&quot;</span>)</span>
<span id="cb23-6"><a href="data.html#cb23-6" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2017&quot;</span>, <span class="st">&quot;2018&quot;</span>, <span class="st">&quot;2019&quot;</span>)</span>
<span id="cb23-7"><a href="data.html#cb23-7" tabindex="-1"></a></span>
<span id="cb23-8"><a href="data.html#cb23-8" tabindex="-1"></a><span class="fu">dimnames</span>(births) <span class="ot">&lt;-</span> <span class="fu">list</span>(cities, years)</span>
<span id="cb23-9"><a href="data.html#cb23-9" tabindex="-1"></a>births</span></code></pre></div>
<pre><code>          2017 2018 2019
Edinburgh 5033 4899 4683
Glasgow   6852 6548 6553
Aberdeen  2402 2337 2260
Dundee    1493 1488 1417</code></pre>
<p>Here, we have used the function <code>dimnames()</code>. By itself, <code>dimnames()</code> will extract the row and column names of a matrix, but we can also set these names by using the assign operator <code>&lt;-</code>. We have put the two vectors on the right hand side of the <code>&lt;-</code> operator, meaning we want the row and column names to be these two vectors (we'll look at the <code>list()</code> function these vectors have been wrapped in in more detail in Section <a href="data.html#list">3.5</a>).</p>
<p>We can now use either the row/column names to extract particular elements from the matrix. We do this using square brackets, <code>[ ]</code>, similar to with vectors, but we now need to specify the row and column we are interested in.</p>
<p>For example, if we wanted to extract the number of births in Dundee in 2017, we can run either of the following lines of code.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data.html#cb25-1" tabindex="-1"></a>births[<span class="st">&quot;Dundee&quot;</span>, <span class="st">&quot;2017&quot;</span>]</span></code></pre></div>
<pre><code>[1] 1493</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data.html#cb27-1" tabindex="-1"></a>births[<span class="dv">4</span>, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] 1493</code></pre>
<p>Note that when we use the row/column names, they are in quotation marks because they are saved as character vectors in R. It is important that the row you are interested in is stated first in <code>[ ]</code>, and then the column.</p>
<div class="webex-check webex-box">
<p><strong>Complete the code to show the number of births in Glasgow in all 3 years.</strong></p>
<div class="webex-code">
<p><code>births[</code><input class='webex-solveme nospaces' size='38' data-answer='[" \"Glasgow\", "," \"Glasgow\", c(\"2017\", \"2018\", \"2019\") "," \"Glasgow\", 1:3 "," \"Glasgow\", c(1, 2, 3) "," 2, "," 2, c(\"2017\", \"2018\", \"2019\") "," 2, 1:3 "," 2, c(1, 2, 3) "]'/><code>]</code></p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<p>There are several ways we could extract the data for these years. For example, we can specify that we want the row relating to Glasgow using either <code>"Glasgow"</code> or simply <code>2</code>.</p>
<p>To tell R that we want to see 2017, 2018 and 2019, we can simply leave the column entry blank (make sure to still have a comma between rows and columns within the square brackets i.e. <code>["Glasgow", ]</code>). R will then just return the entire row relating to Glasgow.</p>
<p>Alternatively, you could specify columns 1 to 3 using <code>1:3</code> or <code>c(1, 2, 3)</code>, or you could use the column names; <code>c("2017", "2018", "2019")</code>.</p>
<p>That is, any of the following lines of code can be used to show the number of births in Glasgow.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data.html#cb29-1" tabindex="-1"></a>births[<span class="st">&quot;Glasgow&quot;</span>, ]</span>
<span id="cb29-2"><a href="data.html#cb29-2" tabindex="-1"></a>births[<span class="dv">2</span>, ]</span>
<span id="cb29-3"><a href="data.html#cb29-3" tabindex="-1"></a>births[<span class="st">&quot;Glasgow&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb29-4"><a href="data.html#cb29-4" tabindex="-1"></a>births[<span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb29-5"><a href="data.html#cb29-5" tabindex="-1"></a>births[<span class="st">&quot;Glasgow&quot;</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)]</span>
<span id="cb29-6"><a href="data.html#cb29-6" tabindex="-1"></a>births[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)]</span>
<span id="cb29-7"><a href="data.html#cb29-7" tabindex="-1"></a>births[<span class="st">&quot;Glasgow&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;2017&quot;</span>, <span class="st">&quot;2018&quot;</span>, <span class="st">&quot;2019&quot;</span>)]</span>
<span id="cb29-8"><a href="data.html#cb29-8" tabindex="-1"></a>births[<span class="dv">2</span>, <span class="fu">c</span>(<span class="st">&quot;2017&quot;</span>, <span class="st">&quot;2018&quot;</span>, <span class="st">&quot;2019&quot;</span>)]</span></code></pre></div>
<pre><code>2017 2018 2019 
6852 6548 6553 </code></pre>
</div>
</div>
</div>
<div id="dimension-reduction" class="section level3 unnumbered hasAnchor">
<h3>Dimension reduction<a href="data.html#dimension-reduction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- avoid dimension reduction with drop=FALSE -->
<p>When extracting an entire row or column using <code>[ ]</code>, the object that R returns is a vector rather than a matrix. This means that we can't use some functions that only work for matrices (or arrays).</p>
<p>For example, the code below returns the value <code>NULL</code> when using the <code>dim()</code> function. <code>dim()</code> should return the dimensions of an array, but since the extracted row for births in Edinburgh is a vector, there are no dimensions to return.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="data.html#cb31-1" tabindex="-1"></a><span class="fu">dim</span>(births[<span class="st">&quot;Edinburgh&quot;</span>, ])</span></code></pre></div>
<pre><code>NULL</code></pre>
<p>If we want to know how many elements are in a vector, we use the function <code>length()</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data.html#cb33-1" tabindex="-1"></a><span class="fu">length</span>(births[<span class="st">&quot;Edinburgh&quot;</span>, ])</span></code></pre></div>
<pre><code>[1] 3</code></pre>
<p>We can force the output from subseting a matrix/array to be a matrix/array by including a third argument, <code>drop = FALSE</code>, within the square brackets to keep the returned row as a matrix/array.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data.html#cb35-1" tabindex="-1"></a><span class="fu">dim</span>(births[<span class="st">&quot;Edinburgh&quot;</span>, , <span class="at">drop =</span> <span class="cn">FALSE</span>])</span></code></pre></div>
<pre><code>[1] 1 3</code></pre>
<p>Now we can see that the row is seen as a 1 <span class="math inline">\(\times\)</span> 3 matrix by R.</p>
</div>
<div id="calculating-statistics" class="section level3 unnumbered hasAnchor">
<h3>Calculating statistics<a href="data.html#calculating-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can apply a function across the rows or columns of a matrix to calculate the mean or standard deviation for example using the function <code>apply()</code>. The arguments that can be given to <code>apply()</code> include:</p>
<ul>
<li><code>X =</code>: this is the matrix (or array) we want to apply the function to.</li>
<li><code>MARGIN =</code>: this tells R whether we want to apply the function to the rows or the columns. A value of <code>1</code> means the function will be applied to the rows and <code>2</code> means the function will be applied to each column.</li>
<li><code>FUN =</code>: this is the function we want to apply. It can be things like the mean (<code>mean</code>), median (<code>median</code>), or standard deviation (<code>sd</code>).</li>
</ul>
<p>For example, if we wanted to know the mean births for each city across the three years, we can use the following code.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data.html#cb37-1" tabindex="-1"></a><span class="fu">apply</span>(<span class="at">X =</span> births, <span class="at">MARGIN =</span> <span class="dv">1</span>, <span class="at">FUN =</span> mean)</span></code></pre></div>
<pre><code>Edinburgh   Glasgow  Aberdeen    Dundee 
 4871.667  6651.000  2333.000  1466.000 </code></pre>
<div class="webex-check webex-box">
<p><strong>What is the standard deviation for the number of births in 2019?</strong></p>
<p><input class='webex-solveme nospaces' size='8' data-answer='["2337.263"]'/> <em>(Give your answer to three decimal places)</em></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>We can calculate the standard deviation in all three years using the <code>apply()</code> function. Because we want to find the standard deviation in each column, we need to set <code>MARGIN = 2</code>. The <code>FUN</code>ction we should use is <code>sd</code>. That is;</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data.html#cb39-1" tabindex="-1"></a><span class="fu">apply</span>(<span class="at">X =</span> births, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> sd)</span></code></pre></div>
<pre><code>    2017     2018     2019 
2451.363 2326.924 2337.263 </code></pre>
<p>It is then easy to see that the standard deviation for 2019 is 2337.263.</p>
</div>
</div>
</div>
<div id="vectormatrix-multiplication" class="section level3 unnumbered hasAnchor">
<h3>Vector/Matrix multiplication<a href="data.html#vectormatrix-multiplication" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R can be used to complete vector and matrix multiplication. The operator used for this is <code>%*%</code>. For example, for the following matrix and vector,</p>
<p><span class="math display">\[
\boldsymbol{X}=\begin{bmatrix}2&amp;4&amp;-1\\3&amp;2&amp;2\\1&amp;2&amp;-1\end{bmatrix},\,\,\,\,\boldsymbol{y}=\begin{bmatrix}1\\1\\3\end{bmatrix}
\]</span></p>
<p>The solution to <span class="math inline">\(\boldsymbol{X}\times\boldsymbol{y}\)</span> can be found using the following code.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data.html#cb41-1" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb41-2"><a href="data.html#cb41-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb41-3"><a href="data.html#cb41-3" tabindex="-1"></a></span>
<span id="cb41-4"><a href="data.html#cb41-4" tabindex="-1"></a>X<span class="sc">%*%</span>y</span></code></pre></div>
<pre><code>     [,1]
[1,]    3
[2,]   11
[3,]    0</code></pre>
<p>If instead we wanted to calculate <span class="math inline">\(\boldsymbol{y}^\intercal\times\boldsymbol{X}\)</span> we would first have to transpose <code>y</code>. Matrices can be transposed using the function <code>t()</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data.html#cb43-1" tabindex="-1"></a><span class="fu">t</span>(y)<span class="sc">%*%</span>X</span></code></pre></div>
<pre><code>     [,1] [,2] [,3]
[1,]    8   12   -2</code></pre>
<p>R can also be used to solve a system of equations. For example, we have just seen that,</p>
<p><span class="math display">\[
\begin{aligned}
(2\times 1)+(4\times 1)+(-1\times 3)&amp;=3\\
(3\times 1)+(2\times 1)+(2\times 3)&amp;=11\\
(1\times 1)+(2\times 1)+(-1\times 3)&amp;=0
\end{aligned}
\]</span></p>
<p>But suppose we didn't know the vector <span class="math inline">\(\boldsymbol{y}\)</span>, and instead were given the system of equations,</p>
<p><span class="math display">\[
\begin{aligned}
2x+4y-z&amp;=3\\
3x+2y+2z&amp;=11\\
x+2y-z&amp;=0
\end{aligned}
\]</span></p>
<p>This can also be represented as,</p>
<p><span class="math display">\[
\boldsymbol{Xy}=\boldsymbol{z},\,\mbox{ where }
\boldsymbol{X}=\begin{bmatrix}2&amp;4&amp;-1\\3&amp;2&amp;2\\1&amp;2&amp;-1\end{bmatrix},\,\,\,\,\boldsymbol{y}=\begin{bmatrix}x\\y\\z\end{bmatrix},\mbox{ and }\boldsymbol{z}=\begin{bmatrix}3\\11\\0\end{bmatrix}
\]</span></p>
<p>We can then use R to solve this system of equations using the <code>solve()</code> function. We need to give <code>solve()</code> the matrix of coefficients, <span class="math inline">\(\boldsymbol{X}\)</span>, and the vector <span class="math inline">\(\boldsymbol{z}\)</span>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data.html#cb45-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">11</span>, <span class="dv">0</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2"><a href="data.html#cb45-2" tabindex="-1"></a></span>
<span id="cb45-3"><a href="data.html#cb45-3" tabindex="-1"></a><span class="fu">solve</span>(X, z)</span></code></pre></div>
<pre><code>     [,1]
[1,]    1
[2,]    1
[3,]    3</code></pre>
<p>This then gives the solution <span class="math inline">\(\boldsymbol{y}=\begin{bmatrix}1&amp;1&amp;3\end{bmatrix}^\intercal\)</span>, which is what we expected to see.</p>
<p>It is also possible to use the <code>solve()</code> function to simply find the inverse of a matrix. This is done by providing it with only one argument - the matrix to be inverted. For example, the code below returns the inverse of the matrix <span class="math inline">\(X\)</span>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data.html#cb47-1" tabindex="-1"></a><span class="fu">solve</span>(X)</span></code></pre></div>
<pre><code>      [,1]  [,2]  [,3]
[1,] -1.50  0.50  2.50
[2,]  1.25 -0.25 -1.75
[3,]  1.00  0.00 -2.00</code></pre>
<p>We can see that,</p>
<p><span class="math display">\[
\boldsymbol{X}^{-1}=\begin{bmatrix}-1.50&amp;0.50&amp;2.50\\1.25&amp;-0.25&amp;-1.75\\1.00&amp;0.00&amp;-2.00\end{bmatrix}
\]</span></p>
<hr />
<p>There are additional details and examples of using matrices in R in Sections <a href="https://read.kortext.com/reader/pdf/92741/21">1.9.1 Arrays and Matrices</a> and <a href="https://read.kortext.com/reader/pdf/92741/27">1.9.2 Vector and Matrix Operations</a> of <em>Probability and Statistics with R</em>.</p>
</div>
</div>
<div id="fact" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Factors<a href="data.html#fact" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Factors are similar to vectors in R, however they have additional information and are used to store categorical data, for example someone's gender or marriage status. They record the "levels" of the categorical variable stored within the vector which each numerical value corresponds to.</p>
<p>For example, suppose you are interested in the qualification level of several university alumni. You might use a simple encoding of <code>1</code>="Bachelor's degree", <code>2</code>="Master's degree" and <code>3</code>="PhD" to record these data.</p>
<p>This might give us data that looks like the following vector <code>degree</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data.html#cb49-1" tabindex="-1"></a>degree1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb49-2"><a href="data.html#cb49-2" tabindex="-1"></a>degree1</span></code></pre></div>
<pre><code>[1] 1 1 2 1 3</code></pre>
<p>By itself, <code>degree</code> is not very informative about what level of degree each student was awarded. We can fill in the rest of this information by changing <code>degree1</code> from a <code>vector</code> to a <code>factor</code>.</p>
<p>To create a factor we use the function <code>factor()</code>. This function can be given the following arguments:</p>
<ul>
<li><code>x =</code>: the vector of data which we want to define categories for.</li>
<li><code>levels =</code>: this is a vector of all possible values that the elements in <code>x</code> can take.</li>
<li><code>labels =</code>: this is a vector containing the names of each level of the category.</li>
</ul>
<p>For example, to convert the vector <code>degree1</code> into a factor called <code>degree_factor1</code> we use:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data.html#cb51-1" tabindex="-1"></a>degree_factor1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> degree1, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb51-2"><a href="data.html#cb51-2" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Bachelor&#39;s&quot;</span>, <span class="st">&quot;Master&#39;s&quot;</span>, <span class="st">&quot;PhD&quot;</span>))</span>
<span id="cb51-3"><a href="data.html#cb51-3" tabindex="-1"></a>degree_factor1</span></code></pre></div>
<pre><code>[1] Bachelor&#39;s Bachelor&#39;s Master&#39;s   Bachelor&#39;s PhD       
Levels: Bachelor&#39;s Master&#39;s PhD</code></pre>
<p>If instead, <code>degree</code> had been a character vector stating the level of degree awarded, we can still turn this into a factor so that R knows this is categorical data and there are only three levels we are interested in.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data.html#cb53-1" tabindex="-1"></a>degree2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Bachelor&#39;s&quot;</span>, <span class="st">&quot;Bachelor&#39;s&quot;</span>, <span class="st">&quot;Master&#39;s&quot;</span>, <span class="st">&quot;Bachelor&#39;s&quot;</span>, <span class="st">&quot;PhD&quot;</span> )</span>
<span id="cb53-2"><a href="data.html#cb53-2" tabindex="-1"></a></span>
<span id="cb53-3"><a href="data.html#cb53-3" tabindex="-1"></a>degree_factor2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> degree2, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Bachelor&#39;s&quot;</span>, <span class="st">&quot;Master&#39;s&quot;</span>, <span class="st">&quot;PhD&quot;</span>))</span>
<span id="cb53-4"><a href="data.html#cb53-4" tabindex="-1"></a>degree_factor2</span></code></pre></div>
<pre><code>[1] Bachelor&#39;s Bachelor&#39;s Master&#39;s   Bachelor&#39;s PhD       
Levels: Bachelor&#39;s Master&#39;s PhD</code></pre>
<p>You can also change the labels of the levels used within a pre-existing factor using the <code>levels()</code> function.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data.html#cb55-1" tabindex="-1"></a><span class="fu">levels</span>(degree_factor2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;BSc&quot;</span>, <span class="st">&quot;MSc&quot;</span>, <span class="st">&quot;PhD&quot;</span>)</span>
<span id="cb55-2"><a href="data.html#cb55-2" tabindex="-1"></a>degree_factor2</span></code></pre></div>
<pre><code>[1] BSc BSc MSc BSc PhD
Levels: BSc MSc PhD</code></pre>
<div class="webex-box">
<p><strong>The results from a survey asking students whether statistics is the best subject are shown below. They were given a choice of "Agree", "Disagree" and "Unsure".</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">Student</th>
<th align="left">Answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Student 1</td>
<td align="left">Agree</td>
</tr>
<tr class="even">
<td align="left">Student 2</td>
<td align="left">Agree</td>
</tr>
<tr class="odd">
<td align="left">Student 3</td>
<td align="left">Agree</td>
</tr>
<tr class="even">
<td align="left">Student 4</td>
<td align="left">Unsure</td>
</tr>
<tr class="odd">
<td align="left">Student 5</td>
<td align="left">Disgaree</td>
</tr>
</tbody>
</table>
<p><strong>Create and print a factor, called <code>survey</code>, which contains the answers of these five students as well as the levels of response they could have given.</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>There are several ways you could create this factor. Here, we first store the answers given in the vector <code>answers</code> and use the encoding <code>1</code>="Agree", <code>2</code>="Disagree" and <code>3</code>="Unsure" (to save on typing!).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data.html#cb57-1" tabindex="-1"></a>answers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>Then we can create the factor <code>survey</code> using the <code>factor()</code> function.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data.html#cb58-1" tabindex="-1"></a>survey <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> answers, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Agree&quot;</span>, <span class="st">&quot;Disagree&quot;</span>, <span class="st">&quot;Unsure&quot;</span>))</span>
<span id="cb58-2"><a href="data.html#cb58-2" tabindex="-1"></a>survey</span></code></pre></div>
<pre><code>[1] Agree    Agree    Agree    Unsure   Disagree
Levels: Agree Disagree Unsure</code></pre>
</div>
</div>
<hr />
<p>Creating factors in R is covered in <a href="https://read.kortext.com/reader/pdf/92741/28">Section 1.9.3 Factors</a> of <em>Probability and Statistics with R</em>.</p>
</div>
<div id="df" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Data frames<a href="data.html#df" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data frames in R are very similar to matrices. The key difference however is that whilst all elements in a matrix must be of the same "mode" (e.g. numeric, character, logical), each column in a data frame can be of a different mode. If you needed to store a numeric vector, a logical vector and a character vector that all relate to the same subjects for example, then a data frame is the way to do this.</p>
<p>Data frames are a very common type of data structure used within R. Most of the data you will see saved in packages, or the data you will use for fitting statistical models will be saved in a data frame.</p>
<p>To create a data frame, we can use the function <code>data.frame()</code>. The only arguments needed are the pre-existing vectors, which all need to be of the same length, that you want to save within the data frame. Some additional arguments include:</p>
<ul>
<li><code>stringAsFactor =</code>: this takes the values <code>TRUE</code> or <code>FALSE</code> and tells R whether any character vectors should be turned into factors. If this argument is excluded, R takes the default value to be <code>FALSE</code>, so character vectors will kept as they are.</li>
<li><code>row.names =</code>: this can be a vector of names you wish to use for the rows of the data frame. By default, R will just number the rows starting from 1.</li>
</ul>
<p>We can create a data frame storing information about students' performance in a course using the following code.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data.html#cb60-1" tabindex="-1"></a>percentage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">84</span>, <span class="dv">76</span>, <span class="dv">90</span>, <span class="dv">53</span>, <span class="dv">6</span>, <span class="dv">67</span>)</span>
<span id="cb60-2"><a href="data.html#cb60-2" tabindex="-1"></a>grade <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;B&quot;</span>)</span>
<span id="cb60-3"><a href="data.html#cb60-3" tabindex="-1"></a>pass <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb60-4"><a href="data.html#cb60-4" tabindex="-1"></a></span>
<span id="cb60-5"><a href="data.html#cb60-5" tabindex="-1"></a>performance <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(percentage, grade, pass)</span>
<span id="cb60-6"><a href="data.html#cb60-6" tabindex="-1"></a>performance</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">percentage</th>
<th align="left">grade</th>
<th align="left">pass</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">84</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">76</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">90</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">53</td>
<td align="left">C</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">H</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">67</td>
<td align="left">B</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<p>We can see that within the data frame <code>performance</code>, <code>percentage</code> is a numeric vector, <code>grade</code> is a character vector and <code>pass</code> is a logical vector by using the function <code>str()</code>.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data.html#cb61-1" tabindex="-1"></a><span class="fu">str</span>(performance)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   6 obs. of  3 variables:
 $ percentage: num  84 76 90 53 6 67
 $ grade     : chr  &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;C&quot; ...
 $ pass      : logi  TRUE TRUE TRUE TRUE FALSE TRUE</code></pre>
<p>We could change <code>grade</code> to be a factor by adding <code>stringsAsFactor = TRUE</code> within the <code>data.frame()</code> function. We can also create a vector of students' IDs and use this to name the rows of the data frame in the following code.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data.html#cb63-1" tabindex="-1"></a>ids <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ST002&quot;</span>, <span class="st">&quot;ST014&quot;</span>, <span class="st">&quot;ST089&quot;</span>, <span class="st">&quot;ST060&quot;</span>, <span class="st">&quot;ST034&quot;</span>, <span class="st">&quot;ST056&quot;</span>)</span>
<span id="cb63-2"><a href="data.html#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="data.html#cb63-3" tabindex="-1"></a>performance <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(percentage, grade, pass,</span>
<span id="cb63-4"><a href="data.html#cb63-4" tabindex="-1"></a>                          <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>, <span class="at">row.names =</span> ids)</span>
<span id="cb63-5"><a href="data.html#cb63-5" tabindex="-1"></a>performance</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">percentage</th>
<th align="left">grade</th>
<th align="left">pass</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ST002</td>
<td align="right">84</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">ST014</td>
<td align="right">76</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">ST089</td>
<td align="right">90</td>
<td align="left">A</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">ST060</td>
<td align="right">53</td>
<td align="left">C</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">ST034</td>
<td align="right">6</td>
<td align="left">H</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">ST056</td>
<td align="right">67</td>
<td align="left">B</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<p>Now if we use the <code>str()</code> function, we can see that <code>grade</code> is treated as a factor.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data.html#cb64-1" tabindex="-1"></a><span class="fu">str</span>(performance)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   6 obs. of  3 variables:
 $ percentage: num  84 76 90 53 6 67
 $ grade     : Factor w/ 4 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;H&quot;: 1 1 1 3 4 2
 $ pass      : logi  TRUE TRUE TRUE TRUE FALSE TRUE</code></pre>
<p>Elements from data frames can be extracted in a couple of ways. For example, we can use square brackets <code>[ ]</code>, or we can use the dollar sign operator <code>$</code>.</p>
<p>For example, if we wanted to extract just the vector <code>pass</code> from the data frame <code>performance</code>, we can use any of the following code.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data.html#cb66-1" tabindex="-1"></a>performance[ , <span class="st">&quot;pass&quot;</span>]</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data.html#cb68-1" tabindex="-1"></a>performance[ , <span class="dv">3</span>]</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data.html#cb70-1" tabindex="-1"></a>performance<span class="sc">$</span>pass</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<p>When we use square brackets, we also need to specify which rows we want to exclude as the first entry (before the comma) within the square brackets. In the code above, we haven't specified any rows, so R shows us all of the rows from <code>performance</code>.</p>
<div class="webex-box">
<p><strong>Write code to extract only the percentage and the associated grade for the student with ID <code>ST014</code>?</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>There are many different ways we could specify the elements we want to extract. Any of the following lines of code will return the same output.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data.html#cb72-1" tabindex="-1"></a>performance[<span class="st">&quot;ST014&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;percentage&quot;</span>, <span class="st">&quot;grade&quot;</span>)]</span>
<span id="cb72-2"><a href="data.html#cb72-2" tabindex="-1"></a>performance[<span class="st">&quot;ST014&quot;</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb72-3"><a href="data.html#cb72-3" tabindex="-1"></a>performance[<span class="st">&quot;ST014&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb72-4"><a href="data.html#cb72-4" tabindex="-1"></a>performance[<span class="st">&quot;ST014&quot;</span>, <span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb72-5"><a href="data.html#cb72-5" tabindex="-1"></a>performance[<span class="dv">2</span>, <span class="fu">c</span>(<span class="st">&quot;percentage&quot;</span>, <span class="st">&quot;grade&quot;</span>)]</span>
<span id="cb72-6"><a href="data.html#cb72-6" tabindex="-1"></a>performance[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb72-7"><a href="data.html#cb72-7" tabindex="-1"></a>performance[<span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb72-8"><a href="data.html#cb72-8" tabindex="-1"></a>performance[<span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>]</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">percentage</th>
<th align="left">grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ST014</td>
<td align="right">76</td>
<td align="left">A</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>An alternative way to easily extract columns from a data frame is to use the <code>attach()</code> function. The only argument needed here is the data frame you want to attach to something called the 'search path' in R. This just means that you no longer need to type in the name of the data frame to access its columns.</p>
<p>Before we do this, we are going to run the following code to remove the original vectors we created from the <strong>Environment</strong> tab using the <code>rm()</code> function. We do this so that R doesn't just show us these pre-existing vectors directly, but instead looks within the data frame <code>performance</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data.html#cb73-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="st">&quot;percentage&quot;</span>, <span class="st">&quot;grade&quot;</span>, <span class="st">&quot;pass&quot;</span>)</span>
<span id="cb73-2"><a href="data.html#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="data.html#cb73-3" tabindex="-1"></a><span class="fu">attach</span>(performance)</span>
<span id="cb73-4"><a href="data.html#cb73-4" tabindex="-1"></a>grade</span></code></pre></div>
<pre><code>[1] A A A C H B
Levels: A B C H</code></pre>
<p>The <code>attach()</code> function is useful if you are going to be using the same data frame over and over, but it is good practice to 'detach' it using the <code>detach()</code> function once you no longer need the data frame.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data.html#cb75-1" tabindex="-1"></a><span class="fu">detach</span>(performance)</span></code></pre></div>
<p>When conducting statistical analysis, you won't often need to create your own data frame of information from scratch - it will most likely already exist in some format somewhere! One place where data might be stored is in the packages you can install and load into R.</p>
<p>We have already installed and loaded the package <code>PASWR2</code> in Section <a href="packages.html#packages">2</a>. We can now see a list of the data frames stored in the <code>PASWR2</code> package by using the following code.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data.html#cb76-1" tabindex="-1"></a><span class="fu">data</span>(<span class="at">package =</span> <span class="st">&quot;PASWR2&quot;</span>)</span></code></pre></div>
<p>We can see more information about the data stored in any of these data sets using the <code>help()</code> function. For example, if we wanted to know what the data in the data frame <code>RAT</code> related to, we could use the following code.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data.html#cb77-1" tabindex="-1"></a><span class="fu">help</span>(<span class="st">&quot;RAT&quot;</span>)</span></code></pre></div>
<p>To view an extract of this data frame, we can use the function <code>head()</code> and provide as an argument the name of the data frame. This will show us the first 6 rows of a data frame by default.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data.html#cb78-1" tabindex="-1"></a><span class="fu">head</span>(RAT)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">survival.time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">152</td>
</tr>
<tr class="even">
<td align="right">152</td>
</tr>
<tr class="odd">
<td align="right">115</td>
</tr>
<tr class="even">
<td align="right">109</td>
</tr>
<tr class="odd">
<td align="right">137</td>
</tr>
<tr class="even">
<td align="right">88</td>
</tr>
</tbody>
</table>
</div>
<p>To save a data frame a package in our own <strong>Environment</strong> tab, we use the function <code>data()</code>. This will read in the data frame and means we can use it as we would any other data frame that we had created ourselves.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data.html#cb79-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;RAT&quot;</span>)</span></code></pre></div>
<div class="webex-box webex-check">
<p><strong>The package <code>PASWR2</code> contains a data set called <code>WAIT</code>. What do the wait times saved in this data set relate to?</strong>
<select class='webex-select'><option value='blank'></option><option value='answer'>Wait time for the bus</option><option value=''>Wait time at the doctors</option><option value=''>Wait time in line at the bank</option><option value=''>Wait time in the lunch queue</option></select></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>To find out more about what information a data set contains, we can use the <code>help()</code> function. Here, running the following code in R tells us that the wait times in <code>WAIT</code> are how long a statistician has had to wait for the bus each morning.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data.html#cb80-1" tabindex="-1"></a><span class="fu">help</span>(<span class="st">&quot;WAIT&quot;</span>)</span></code></pre></div>
</div>
</div>
<div class="webex-box">
<p><strong>Write code to first view the top 5 rows of the data frame <code>WAIT</code> and then load it into your Environment.</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>To view the top 5 rows, we use the <code>head()</code> function and specify how many rows we want to see using the argument <code>n = 5</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data.html#cb81-1" tabindex="-1"></a><span class="fu">head</span>(WAIT, <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">minutes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">8.0</td>
</tr>
<tr class="even">
<td align="right">2.1</td>
</tr>
<tr class="odd">
<td align="right">3.8</td>
</tr>
<tr class="even">
<td align="right">8.6</td>
</tr>
<tr class="odd">
<td align="right">7.3</td>
</tr>
</tbody>
</table>
</div>
<p>To then load the data frame into our <strong>Environment</strong> tab, we use the function <code>data()</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data.html#cb82-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;WAIT&quot;</span>)</span></code></pre></div>
</div>
</div>
<hr />
<p>All of this information is covered with further examples in <a href="https://read.kortext.com/reader/pdf/92741/31">Section 1.9.5 Data Frames</a> of <em>Probability and Statistics with R</em>.</p>
</div>
<div id="list" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Lists<a href="data.html#list" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lists are objects in R that bring together elements of different modes (for example character, numeric or logical vectors or even matrices or arrays) into the same object. Lists are created using the <code>list()</code> function which doesn't have any particular arguments required. Instead, the name of each element is given as well as what this element should be - this could be a vector, a matrix or an array.</p>
<p>For example, we could save information about the movie Titanic in a list using the following code.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data.html#cb83-1" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">director =</span> <span class="st">&quot;James Cameron&quot;</span>,</span>
<span id="cb83-2"><a href="data.html#cb83-2" tabindex="-1"></a>                <span class="at">actors =</span> <span class="fu">c</span>(<span class="st">&quot;Leonardo DiCaprio&quot;</span>, <span class="st">&quot;Kate Winslet&quot;</span>),</span>
<span id="cb83-3"><a href="data.html#cb83-3" tabindex="-1"></a>                <span class="at">runtime =</span> <span class="st">&quot;3 hours 14 minutes&quot;</span>,</span>
<span id="cb83-4"><a href="data.html#cb83-4" tabindex="-1"></a>                <span class="at">release.date =</span> <span class="st">&quot;23/01/1998&quot;</span>,</span>
<span id="cb83-5"><a href="data.html#cb83-5" tabindex="-1"></a>                <span class="at">budget =</span> <span class="dv">200000000</span>,</span>
<span id="cb83-6"><a href="data.html#cb83-6" tabindex="-1"></a>                <span class="at">gross.profit =</span> <span class="dv">2222985568</span>,</span>
<span id="cb83-7"><a href="data.html#cb83-7" tabindex="-1"></a>                <span class="at">production.companies =</span> <span class="fu">c</span>(<span class="st">&quot;Twentieth Century Fox&quot;</span>,</span>
<span id="cb83-8"><a href="data.html#cb83-8" tabindex="-1"></a>                                         <span class="st">&quot;Paramount Pictures&quot;</span>,</span>
<span id="cb83-9"><a href="data.html#cb83-9" tabindex="-1"></a>                                         <span class="st">&quot;Lightstorm Entertainment&quot;</span>))</span>
<span id="cb83-10"><a href="data.html#cb83-10" tabindex="-1"></a>titanic</span></code></pre></div>
<pre><code>$director
[1] &quot;James Cameron&quot;

$actors
[1] &quot;Leonardo DiCaprio&quot; &quot;Kate Winslet&quot;     

$runtime
[1] &quot;3 hours 14 minutes&quot;

$release.date
[1] &quot;23/01/1998&quot;

$budget
[1] 2e+08

$gross.profit
[1] 2222985568

$production.companies
[1] &quot;Twentieth Century Fox&quot;    &quot;Paramount Pictures&quot;      
[3] &quot;Lightstorm Entertainment&quot;</code></pre>
<p>The elements of a list can be accessed using either double square brackets <code>[[ ]]</code>, or the <code>$</code> operator (when the elements are named). For example, if we wanted to extract the release date from <code>titanic</code>, then we can use any of the following code.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data.html#cb85-1" tabindex="-1"></a>titanic[[<span class="st">&quot;release.date&quot;</span>]]</span></code></pre></div>
<pre><code>[1] &quot;23/01/1998&quot;</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data.html#cb87-1" tabindex="-1"></a>titanic[[<span class="dv">4</span>]]</span></code></pre></div>
<pre><code>[1] &quot;23/01/1998&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data.html#cb89-1" tabindex="-1"></a>titanic<span class="sc">$</span>release.date</span></code></pre></div>
<pre><code>[1] &quot;23/01/1998&quot;</code></pre>
<p>We could also be more specific and extract a particular entry from one of the elements of the list using single square brackets, <code>[ ]</code>, after the double square brackets or <code>$</code> operator. For example, if we wanted to know who the second billed actor is, then we can use any of the following lines of code.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data.html#cb91-1" tabindex="-1"></a>titanic[[<span class="st">&quot;actors&quot;</span>]][<span class="dv">2</span>]</span></code></pre></div>
<pre><code>[1] &quot;Kate Winslet&quot;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data.html#cb93-1" tabindex="-1"></a>titanic[[<span class="dv">2</span>]][<span class="dv">2</span>]</span></code></pre></div>
<pre><code>[1] &quot;Kate Winslet&quot;</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data.html#cb95-1" tabindex="-1"></a>titanic<span class="sc">$</span>actors[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>[1] &quot;Kate Winslet&quot;</code></pre>
<p>If you are unsure of the names of all of the elements of a list, then the <code>names()</code> function is useful.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data.html#cb97-1" tabindex="-1"></a><span class="fu">names</span>(titanic)</span></code></pre></div>
<pre><code>[1] &quot;director&quot;             &quot;actors&quot;               &quot;runtime&quot;             
[4] &quot;release.date&quot;         &quot;budget&quot;               &quot;gross.profit&quot;        
[7] &quot;production.companies&quot;</code></pre>
<hr />
<p>You can see other examples of how lists can be used in <a href="https://read.kortext.com/reader/pdf/92741/29">Section 1.9.4 Lists</a> of <em>Probability and Statistics with R</em>.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Check Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Check Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercises.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
