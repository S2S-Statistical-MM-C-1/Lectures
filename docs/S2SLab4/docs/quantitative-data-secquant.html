<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Quantitative Data {sec:quant} | S2S Lab 4</title>
  <meta name="description" content="2 Quantitative Data {sec:quant} | S2S Lab 4" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Quantitative Data {sec:quant} | S2S Lab 4" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Quantitative Data {sec:quant} | S2S Lab 4" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="comparing-samples-seccomp.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Qualitative Data</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#sec:tables"><i class="fa fa-check"></i><b>1.1</b> Tables</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#sec:bars"><i class="fa fa-check"></i><b>1.2</b> Barplots</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sec:dots"><i class="fa fa-check"></i><b>1.3</b> Dot Charts</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#sec:pies"><i class="fa fa-check"></i><b>1.4</b> Pie Charts</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#bivariate-data"><i class="fa fa-check"></i><b>1.5</b> Bivariate Data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="quantitative-data-secquant.html"><a href="quantitative-data-secquant.html"><i class="fa fa-check"></i><b>2</b> Quantitative Data {sec:quant}</a>
<ul>
<li class="chapter" data-level="2.1" data-path="quantitative-data-secquant.html"><a href="quantitative-data-secquant.html#stem-and-leaf-plots"><i class="fa fa-check"></i><b>2.1</b> Stem and Leaf Plots</a></li>
<li class="chapter" data-level="2.2" data-path="quantitative-data-secquant.html"><a href="quantitative-data-secquant.html#strip-charts"><i class="fa fa-check"></i><b>2.2</b> Strip Charts</a></li>
<li class="chapter" data-level="2.3" data-path="quantitative-data-secquant.html"><a href="quantitative-data-secquant.html#histograms"><i class="fa fa-check"></i><b>2.3</b> Histograms</a></li>
<li class="chapter" data-level="2.4" data-path="quantitative-data-secquant.html"><a href="quantitative-data-secquant.html#kernel-density-estimators"><i class="fa fa-check"></i><b>2.4</b> Kernel Density Estimators</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="comparing-samples-seccomp.html"><a href="comparing-samples-seccomp.html"><i class="fa fa-check"></i><b>3</b> Comparing Samples {sec:comp}</a>
<ul>
<li class="chapter" data-level="3.1" data-path="comparing-samples-seccomp.html"><a href="comparing-samples-seccomp.html#qq-plots"><i class="fa fa-check"></i><b>3.1</b> QQ Plots</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>4</b> <code>ggplot()</code></a></li>
<li class="chapter" data-level="5" data-path="further-exercises.html"><a href="further-exercises.html"><i class="fa fa-check"></i><b>5</b> Further Exercises</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">S2S Lab 4</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="quantitative-data-secquant" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Quantitative Data {sec:quant}<a href="quantitative-data-secquant.html#quantitative-data-secquant" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Quantitative data is the term used to describe numerical data. Essentially, data that can be "quantified" is quantitative data. That is, any information that can be measured, counted or given a numerical value. This could be things such as individuals' height, weight or age, or distances or prices of items.</p>
<p>Quantitative data can be thought of having different "properties", including its shape, center and spread. There are several ways in which quantitative data can be presented to better understand these properties.</p>
<div id="stem-and-leaf-plots" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Stem and Leaf Plots<a href="quantitative-data-secquant.html#stem-and-leaf-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When dealing with quantitative data, a good way to quickly get an idea of the spread of the data is with a stem and leaf plot. This arranges the observations by increasing numerical value and splits each value into a "stem" and a "leaf".</p>
<p>The stem is the beginning of the numerical value - this could be multiples of 10, 100, 1000 or any value really. The leaf is always a single digit, indicating the value of the observation from the data.</p>
<p>Stem and leaf plots can become increasingly hard to read when using larges data sets. They are clearest, and easiest to interpret, when they are constructed for relatively small data sets (fewer than 100 observations roughly).</p>
<p>The function for creating a stem and leaf plot in R is <code>stem()</code>. The only necessary argument for this function is <code>x =</code> which is the vector of the numeric values.</p>
<p>We can create a stem and leaf plot showing the weight (in kg) of each patient included in the <code>EPIDURAL</code> data set using the following code. The weights are stored in the variable called "kg".</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="quantitative-data-secquant.html#cb25-1" tabindex="-1"></a><span class="fu">stem</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb25-2"><a href="quantitative-data-secquant.html#cb25-2" tabindex="-1"></a>     <span class="at">scale =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>
  The decimal point is 1 digit(s) to the right of the |

   4 | 8
   5 | 77999
   6 | 0133567779
   7 | 01122244455679999
   8 | 001233334455566666799
   9 | 000011233445678
  10 | 334568
  11 | 23446
  12 | 1
  13 | 14
  14 | 2
  15 | 
  16 | 8</code></pre>
<p>The first row in this plot tells us that the lightest patient is 48kg, the second lightest is 57kg, then 57kg and so on. The argument <code>scale = 2</code> has been included so that the stem shows a new row for every 10kg in weight.</p>
<p>The stem may not always be multiples of 10, so pay close attention to the message given <code>The decimal point is 1 digit(s) to the right of the |</code> which will tell you where the decimal point lies.</p>
<p>This stem and leaf plot shows that the weights of the patients are right skewed.</p>
<div class="webex-box">
<!--task on stem and leaf? what is the shape of the distribution MCQ/what is the maximum value input-->
</div>
</div>
<div id="strip-charts" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Strip Charts<a href="quantitative-data-secquant.html#strip-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A strip chart is an alternative to stem and leaf plots. It is sometimes called a dotplot (not to be confused with a dot chart for qualitative data) because dots are placed in the plot for each numeric value of the quantitative data. This is good for visualising one numeric variable on a plot.</p>
<p>Strip charts can be created in R using the function <code>stripchart()</code>. This function takes the arguments:</p>
<ul>
<li><code>x =</code>: this is the vector of numeric values or a list of vectors.</li>
<li><code>data =</code>: this is the data frame that the vector of numeric values comes from (if it is a variable in a data frame).</li>
<li><code>method =</code>: this is the method used to separate points which represent the same value. Values you can provide to this arguments include <code>"overplot"</code> (this is the default), which plots points directly on top of each other, <code>"jitter"</code> which randomly moves points away from their true value by a small amount so individual points can be seen, or <code>"stack"</code> which stacks points above each other.</li>
<li><code>offset =</code>: when <code>method = "stack"</code>, this argument specifies the size of the gap that should be between points which are stacked above others.</li>
<li><code>pch =</code>: this is the plotting character (i.e. the shape) to be used for the points. By default this takes the value 0 which means the points will be square. This argument can take any value from 0 to 25 which all represent different shapes or symbols.</li>
<li><code>col =</code>: this is a vector of colours to be used for the points on the plot.</li>
<li><code>main =</code>: this is the title given to the plot.</li>
<li><code>xlab =</code>: this is the label placed below the x-axis.</li>
<li><code>ylab =</code>: this is the label placed along the y-axis.</li>
</ul>
<p>We can create a strip chart showing the weight of all patients in the <code>EPIDURAL</code> data set using the following code. This code stacks the points which represent patient's of the same weight above each other, making it easier to see the shape of the data.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="quantitative-data-secquant.html#cb27-1" tabindex="-1"></a><span class="fu">stripchart</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb27-2"><a href="quantitative-data-secquant.html#cb27-2" tabindex="-1"></a>           <span class="at">method =</span> <span class="st">&quot;stack&quot;</span>,</span>
<span id="cb27-3"><a href="quantitative-data-secquant.html#cb27-3" tabindex="-1"></a>           <span class="at">offset =</span> <span class="fl">0.5</span>,</span>
<span id="cb27-4"><a href="quantitative-data-secquant.html#cb27-4" tabindex="-1"></a>           <span class="at">pch =</span> <span class="dv">1</span>,</span>
<span id="cb27-5"><a href="quantitative-data-secquant.html#cb27-5" tabindex="-1"></a>           <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>,</span>
<span id="cb27-6"><a href="quantitative-data-secquant.html#cb27-6" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">&quot;Patients Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb27-7"><a href="quantitative-data-secquant.html#cb27-7" tabindex="-1"></a>           <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant2-1.png" width="672" /></p>
<p>Again, we can see that the patients' weights are right skewed.</p>
<!--easy task with strip charts?-->
<p>Strip charts can also be used to visualise numeric data, split across different levels of a categorical variable. For example, we can show the weight of patients in each level of the "ease" variable using the following code.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="quantitative-data-secquant.html#cb28-1" tabindex="-1"></a><span class="fu">stripchart</span>(<span class="at">x =</span> kg <span class="sc">~</span> ease,</span>
<span id="cb28-2"><a href="quantitative-data-secquant.html#cb28-2" tabindex="-1"></a>           <span class="at">data =</span> EPIDURAL,</span>
<span id="cb28-3"><a href="quantitative-data-secquant.html#cb28-3" tabindex="-1"></a>           <span class="at">method =</span> <span class="st">&quot;stack&quot;</span>,</span>
<span id="cb28-4"><a href="quantitative-data-secquant.html#cb28-4" tabindex="-1"></a>           <span class="at">offset =</span> <span class="fl">0.5</span>,</span>
<span id="cb28-5"><a href="quantitative-data-secquant.html#cb28-5" tabindex="-1"></a>           <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb28-6"><a href="quantitative-data-secquant.html#cb28-6" tabindex="-1"></a>           <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;darkslategray&quot;</span>, <span class="st">&quot;darkslategray3&quot;</span>, <span class="st">&quot;darkslategray4&quot;</span>),</span>
<span id="cb28-7"><a href="quantitative-data-secquant.html#cb28-7" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb28-8"><a href="quantitative-data-secquant.html#cb28-8" tabindex="-1"></a>           <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>,</span>
<span id="cb28-9"><a href="quantitative-data-secquant.html#cb28-9" tabindex="-1"></a>           <span class="at">ylab =</span> <span class="st">&quot;Ease&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant3-1.png" width="672" /></p>
<p>Note here that we have provided a "formula" to the argument <code>x =</code>. This is of the form <code>x ~ g</code> where <code>x</code> is the vector of numeric values (in this case "kg"), and <code>g</code> is the vector containing the groups to be used to split up the data (the variable "ease" here).</p>
<p>We have also changed <code>pch =</code> to be 19 which tells R to use filled circles for each point, rather than the empty circles like when <code>pch = 1</code>.</p>
<p>When splitting the weights of all the patients into the three levels of ease, the right skew seen in the weights before, is no longer apparent. In general it seems that for lighter weight patients, it is easier to find the location to administer the epidural anesthetic and that as patients get heavier, finding the right location becomes more difficult.</p>
<div class="webex-box">
<!-- something about making a strip chart? fill in code or recreate plot-->
</div>
</div>
<div id="histograms" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Histograms<a href="quantitative-data-secquant.html#histograms" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Histograms are a useful tool for graphically presenting quantitative data. They look similar to barplots (for qualitative data), however the width of the "bins" (or bars) can be changed in a histogram. This means that you can choose to include more or fewer observations in each bin shown on the plot.</p>
<p>The function to create a histogram in R is <code>hist()</code>. This function takes the following arguments:</p>
<ul>
<li><code>x =</code>: this is the vector of numeric values that should be used to create the histogram.</li>
<li><code>breaks =</code>: this is vector giving the breakpoints that should be used to create the intervals each bar of the histogram represents, or it can be a single value specifying the number of bins that should be in the histogram.</li>
<li><code>freq =</code>: this takes the values <code>TRUE</code> or <code>FALSE</code> which indicate whether a frequency histogram (<code>TRUE</code>) or a density histogram (<code>FALSE</code>) should be created. By default, a frequency histogram will be created.</li>
<li><code>right =</code>: this takes the values <code>TRUE</code> and <code>FALSE</code> which indicate whether the intervals used to create the bins should be right-closed (<code>TRUE</code>) e.g. <span class="math inline">\((x_1, x_2]\)</span>, or left-closed (<code>FALSE</code>) e.g. <span class="math inline">\([x_1, x_2)\)</span>. By default the intervals will be right-closed.</li>
<li><code>include.lowest =</code>: this takes the values <code>TRUE</code> or <code>FALSE</code> which indicates whether the lowest value in the data should be included in the first bin, when right-closed intervals are used.</li>
<li><code>col =</code>: this is the colour to be used to fill the bins.</li>
<li><code>main =</code>: this is the title of the plot.</li>
<li><code>xlab =</code>: this is the label for the x-axis.</li>
<li><code>ylab =</code>: this is the label for the y-axis.</li>
</ul>
<p>The only argument that needs to be provided to the <code>hist()</code> function is <code>x =</code>.</p>
<p>We can create a histogram showing the weight of patients from the <code>EPIDURAL</code> data set using the following code. This code creates a vector using the <code>seq()</code> function to provide to the <code>breaks =</code> argument. This vector is <span class="math inline">\(\begin{bmatrix}40&amp;50&amp;60&amp;\dots&amp;180 \end{bmatrix}^\intercal\)</span>, so the histogram has a bin including all observations between 40kg and 50kg, between 50kg and 60kg and so on. Because we have left out the <code>right =</code> argument, these intervals are right-closed. This means they are of the form (40, 50], (50, 60], ..., (170, 180].</p>
<p>The <code>freq =</code> argument has also been left out of this code, so a default frequency histogram is created. In this case, the height of a bar represents the number of patients that fall into that particular interval.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="quantitative-data-secquant.html#cb29-1" tabindex="-1"></a><span class="fu">hist</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb29-2"><a href="quantitative-data-secquant.html#cb29-2" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">40</span>, <span class="at">to =</span> <span class="dv">180</span>, <span class="at">by =</span> <span class="dv">10</span>),</span>
<span id="cb29-3"><a href="quantitative-data-secquant.html#cb29-3" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>,</span>
<span id="cb29-4"><a href="quantitative-data-secquant.html#cb29-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb29-5"><a href="quantitative-data-secquant.html#cb29-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant4-1.png" width="672" /></p>
<p>If we add in the argument <code>freq = FALSE</code> a density histogram is created instead. The shape of the histogram is identical to the frequency histogram, however the scale on the y-axis has changed. Now, the height of each bar represents the proportion of the patients that fall into that particular interval.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="quantitative-data-secquant.html#cb30-1" tabindex="-1"></a><span class="fu">hist</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb30-2"><a href="quantitative-data-secquant.html#cb30-2" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">40</span>, <span class="at">to =</span> <span class="dv">180</span>, <span class="at">by =</span> <span class="dv">10</span>),</span>
<span id="cb30-3"><a href="quantitative-data-secquant.html#cb30-3" tabindex="-1"></a>     <span class="at">freq =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-4"><a href="quantitative-data-secquant.html#cb30-4" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>,</span>
<span id="cb30-5"><a href="quantitative-data-secquant.html#cb30-5" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb30-6"><a href="quantitative-data-secquant.html#cb30-6" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant5-1.png" width="672" /></p>
<p>We can also provide a single value to the <code>breaks =</code> argument. Most of the time, this defines the number of bins that should be used in the histogram, however sometimes the plot created will have a slightly different number from what you specify. This is because R uses "pretty values", which essentially means a number of bins will be selected for you, to best produce a sensible looking histogram.</p>
<p>For example, when we specify <code>breaks = 4</code>, there are 4 bars in the histogram produced. This is because it makes sense to split the range of our data into the four sets (0, 50], (50, 100], (100, 150] and (150, 200].</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="quantitative-data-secquant.html#cb31-1" tabindex="-1"></a><span class="fu">hist</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb31-2"><a href="quantitative-data-secquant.html#cb31-2" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">4</span>,</span>
<span id="cb31-3"><a href="quantitative-data-secquant.html#cb31-3" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>,</span>
<span id="cb31-4"><a href="quantitative-data-secquant.html#cb31-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb31-5"><a href="quantitative-data-secquant.html#cb31-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant6-1.png" width="672" /></p>
<p>If we instead specify that <code>breaks = 5</code>, note that the histogram produced actually has 7 intervals. This is because the "pretty values" used means that R tries to split the range of our data into at least 5 intervals of the same size, where the upper and lower limit of each interval is an integer. In this case, the intervals used are (40, 60], (60, 80], (80, 100], ..., (160, 180].</p>
<p>It is always a good idea to produce histograms where different intervals have been used to construct the bins to get a proper sense for the shape of the data.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="quantitative-data-secquant.html#cb32-1" tabindex="-1"></a><span class="fu">hist</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb32-2"><a href="quantitative-data-secquant.html#cb32-2" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">5</span>,</span>
<span id="cb32-3"><a href="quantitative-data-secquant.html#cb32-3" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>,</span>
<span id="cb32-4"><a href="quantitative-data-secquant.html#cb32-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb32-5"><a href="quantitative-data-secquant.html#cb32-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant7-1.png" width="672" /></p>
<div class="webex-box">
<!--task about histograms - explore different definitions of bins etc. -->
</div>
<hr />
<p>There are several different ways that the breaks used to construct the intervals for a histogram can be constructed. You can read more about these methods in <a href="https://read.kortext.com/reader/pdf/92741/107">Section 2.4.3.1 Histograms</a> from <em>Probability and Statistics with R</em>.</p>
</div>
<div id="kernel-density-estimators" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Kernel Density Estimators<a href="quantitative-data-secquant.html#kernel-density-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since the shape of histograms can change so drastically based on the intervals defined, they can sometimes be misleading when trying to determine the shape of data. Kernel density estimators offer a more reliable indication of the shape of data.</p>
<p>The function to create a kernel density estimator in R is <code>density(x)</code>. The only argument needed for this function is:</p>
<ul>
<li><code>x =</code>: this is the vector of data for which the kernel density estimate should be computed.</li>
</ul>
<p>This creates a list which can be used to show the kernel density estimate in a plot. In order to superimpose the estimate over the histogram of the data, we can use the <code>lines()</code> function.</p>
<p>For example, the following code creates the histogram of the patients' weights, and then superimposes the kernel density estimate <code>dens</code> on top.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="quantitative-data-secquant.html#cb33-1" tabindex="-1"></a><span class="fu">hist</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg,</span>
<span id="cb33-2"><a href="quantitative-data-secquant.html#cb33-2" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">40</span>, <span class="at">to =</span> <span class="dv">180</span>, <span class="at">by =</span> <span class="dv">10</span>),</span>
<span id="cb33-3"><a href="quantitative-data-secquant.html#cb33-3" tabindex="-1"></a>     <span class="at">freq =</span> <span class="cn">FALSE</span>,</span>
<span id="cb33-4"><a href="quantitative-data-secquant.html#cb33-4" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey90&quot;</span>,</span>
<span id="cb33-5"><a href="quantitative-data-secquant.html#cb33-5" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Patient Weights from the EPIDURAL data set&quot;</span>,</span>
<span id="cb33-6"><a href="quantitative-data-secquant.html#cb33-6" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>)</span>
<span id="cb33-7"><a href="quantitative-data-secquant.html#cb33-7" tabindex="-1"></a></span>
<span id="cb33-8"><a href="quantitative-data-secquant.html#cb33-8" tabindex="-1"></a>dens <span class="ot">&lt;-</span> <span class="fu">density</span>(<span class="at">x =</span> EPIDURAL<span class="sc">$</span>kg)</span>
<span id="cb33-9"><a href="quantitative-data-secquant.html#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="quantitative-data-secquant.html#cb33-10" tabindex="-1"></a><span class="fu">lines</span>(dens, <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant8-1.png" width="672" /></p>
<p>We can again clearly see that the distribution of all patients' weights is right skewed and that the mode is around 85kg.</p>
<p>In order to use <code>lines()</code> to superimpose the kernel density estimate, the histogram created must be a density histogram. It is also necessary to create a plot first because the <code>lines()</code> function only builds on top of a pre-existing plot. Within the <code>lines()</code> function, the additional arguments <code>col =</code> and <code>lwd =</code> to set the colour and line width respectively of the kernel density estimate.</p>
<p>In order to show a kernel density estimate in its own plot, we can use the function <code>plot()</code>. The following code can be used to show the same kernel density estimate as above, but this time without the histogram beneath it.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="quantitative-data-secquant.html#cb34-1" tabindex="-1"></a><span class="fu">plot</span>(dens, <span class="at">col =</span> <span class="st">&quot;coral1&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb34-2"><a href="quantitative-data-secquant.html#cb34-2" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Density of Patient Weights&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/quant9-1.png" width="672" /></p>
<hr />
<p>To read more on how kernel density estimates are constructed, see <a href="https://read.kortext.com/reader/pdf/92741/114">Section 2.4.3.2 Kernel Density Estimators</a> in <em>Probability and Statistics with R</em>.</p>
<!--Section 2.7.3 Comparing samples after here (or on its own page?)-->

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="comparing-samples-seccomp.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
