<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Functions | S2S Lab 3</title>
  <meta name="description" content="4 Functions | S2S Lab 3" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Functions | S2S Lab 3" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Functions | S2S Lab 3" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html"/>
<link rel="next" href="exercises.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="chapter" data-level="2" data-path="reading.html"><a href="reading.html"><i class="fa fa-check"></i><b>2</b> Reading in Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="reading.html"><a href="reading.html#directory"><i class="fa fa-check"></i><b>2.1</b> Setting your working directory</a></li>
<li class="chapter" data-level="2.2" data-path="reading.html"><a href="reading.html#read.table"><i class="fa fa-check"></i><b>2.2</b> <code>read.table()</code></a></li>
<li class="chapter" data-level="2.3" data-path="reading.html"><a href="reading.html#read.csv"><i class="fa fa-check"></i><b>2.3</b> <code>read.csv()</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Working With Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#checking"><i class="fa fa-check"></i><b>3.1</b> Checking variable types</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#dealing-with-na-values"><i class="fa fa-check"></i><b>3.2</b> Dealing with <code>NA</code> values</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#sorting-data-frames"><i class="fa fa-check"></i><b>3.3</b> Sorting data frames</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#subsetting"><i class="fa fa-check"></i><b>3.4</b> Subsetting</a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#summarising-data"><i class="fa fa-check"></i><b>3.5</b> Summarising data</a></li>
<li class="chapter" data-level="3.6" data-path="data.html"><a href="data.html#creating-variables"><i class="fa fa-check"></i><b>3.6</b> Creating variables</a></li>
<li class="chapter" data-level="3.7" data-path="data.html"><a href="data.html#merging-data-frames"><i class="fa fa-check"></i><b>3.7</b> Merging data frames</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#probability-functions"><i class="fa fa-check"></i><b>4.1</b> Probability functions</a></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#flow-control"><i class="fa fa-check"></i><b>4.2</b> Flow control</a></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#creating-functions"><i class="fa fa-check"></i><b>4.3</b> Creating functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>5</b> Further Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">S2S Lab 3</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Functions<a href="functions.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We have already seen and used many R functions. Now we are going to learn about some more statistics specific functions, as well as how to write our own functions which will give us a lot of flexibility with what we can do in R.</p>
<div id="probability-functions" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Probability functions<a href="functions.html#probability-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are a range of functions we can use which make working with statistical distributions a lot easier. We are able to generate random numbers from a distribution, calculate cumulative probabilities, compute densities and return quantiles with them.</p>
<p>The name of the distribution you are using is going to be part of the function name, so to keep things simple, let's start by looking at the normal distribution. The four functions you can use with the normal distribution are:</p>
<ul>
<li><code>rnorm(n, mean = 0, sd = 1)</code>: this returns a random sample of size <code>n</code> from a <span class="math inline">\(N\sim(0,\,1)\)</span> distribution.</li>
<li><code>pnorm(q, mean = 0, sd = 1)</code>: this computes the probability <span class="math inline">\(\mathbb{P}(X\leq q)\)</span>, where <span class="math inline">\(X\sim N(0,\,1)\)</span>.</li>
<li><code>dnorm(x, mean = 0, sd = 1)</code>: this computes the value of the probability density function, <span class="math inline">\(f(x)\)</span>.</li>
<li><code>qnorm(p, mean = 0, sd = 1)</code>: this computes the quantile <span class="math inline">\(x\)</span> such that <span class="math inline">\(\mathbb{P}(X\leq x)=p\)</span>, where <span class="math inline">\(X\sim N(0,\,1)\)</span>.</li>
</ul>
<p>Note that <code>norm</code> in each function name is because we are using the normal distribution. This part of the function names can be changed based on the distribution we want to use. For example <code>rt()</code>, <code>rbinom()</code> and <code>rf()</code> each return random samples from the <span class="math inline">\(t\)</span>, binomial and <span class="math inline">\(F\)</span> distributions, respectively, provided suitable arguments are give - remember to use the <code>help()</code> function to see what arguments are needed.</p>
<p>The arguments <code>mean = 0</code> and <code>sd = 1</code> are the default values, so leaving them out of any of the functions for the normal distribution above means you will be using the <span class="math inline">\(N(0,\,1)\)</span> distribution. You can change the mean or standard deviation of the distribution by changing the values assigned to the arguments.</p>
<p>The values that <code>pnorm(q)</code>, <code>qnorm(p)</code> and <code>dnorm(x)</code> return are summarised graphically in Figure <a href="functions.html#fig:normal-image">4.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:normal-image"></span>
<img src="Images/normal_plots.svg" alt="Summary of probability functions for the standard normal distribution." width="1200px" />
<p class="caption">
Figure 4.1: Summary of probability functions for the standard normal distribution.
</p>
</div>
<p>For example, we know that the 97.5<sup>th</sup> quantile of the <span class="math inline">\(N(0,\,1)\)</span> distribution is roughly 1.96. We can double check this using the following code.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="functions.html#cb64-1" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="fl">0.975</span>)</span></code></pre></div>
<pre><code>[1] 1.959964</code></pre>
<div class="webex-box webex-check">
<p><strong>Choose the correct function and complete the code for the following scenarios.</strong></p>
<ul>
<li>You want to construct a 90% confidence interval so need to know the 95<sup>th</sup> quantile of the standard normal distribution.</li>
</ul>
<div class="webex-code">
<p><select class='webex-select'><option value='blank'></option><option value=''><code>rnorm</code></option><option value=''><code>pnorm</code></option><option value=''><code>dnorm</code></option><option value='answer'><code>qnorm</code></option></select><code>(</code><input class='webex-solveme nospaces' size='7' data-answer='["0.95","0.950","p=0.95","p=0.950"]'/><code>, mean = 0, sd = 1)</code></p>
</div>
<ul>
<li>How would you find the value of <span class="math inline">\(x\)</span> such that <span class="math inline">\(\mathbb{P}(X\leq x)=0.45\)</span>, where <span class="math inline">\(X\sim N(100,\,4^2)\)</span>?</li>
</ul>
<div class="webex-code">
<p><select class='webex-select'><option value='blank'></option><option value=''><code>rnorm</code></option><option value=''><code>pnorm</code></option><option value=''><code>dnorm</code></option><option value='answer'><code>qnorm</code></option></select><code>(0.45,</code><input class='webex-solveme nospaces' size='16' data-answer='["mean = 100, sd=4","100, 4","sd=4, mean=100","mean=100, 4","100, sd=4"]'/><code>)</code></p>
</div>
<ul>
<li>You want to know the proportion of the <span class="math inline">\(N(0,\,2^2)\)</span> distribution that lies below -2. That is, <span class="math inline">\(\mathbb{P}(X\leq -2)\)</span>, where <span class="math inline">\(X\sim N(0,\,2^2)\)</span>.</li>
</ul>
<div class="webex-code">
<p><select class='webex-select'><option value='blank'></option><option value=''><code>rnorm</code></option><option value='answer'><code>pnorm</code></option><option value=''><code>dnorm</code></option><option value=''><code>qnorm</code></option></select><code>(</code><input class='webex-solveme nospaces' size='4' data-answer='["-2","q=-2"]'/><code>, mean = 0, sd =</code><input class='webex-solveme nospaces' size='1' data-answer='["2"]'/><code>)</code></p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<ul>
<li>You want to construct a 90% confidence interval so need to know the 95<sup>th</sup> quantile of the standard normal distribution.</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="functions.html#cb66-1" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.95</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span></code></pre></div>
<ul>
<li>How would you find the value of <span class="math inline">\(x\)</span> such that <span class="math inline">\(\mathbb{P}(X\leq x)=0.45\)</span>, where <span class="math inline">\(X\sim N(100,\,4^2)\)</span>?</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="functions.html#cb67-1" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.45</span>, <span class="at">mean =</span> <span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">4</span>)</span></code></pre></div>
<ul>
<li>You want to know the proportion of the <span class="math inline">\(N(0,\,2^2)\)</span> distribution that lies below -2. That is, <span class="math inline">\(\mathbb{P}(X\leq -2)\)</span>, where <span class="math inline">\(X\sim N(0,\,2^2)\)</span>.</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="functions.html#cb68-1" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="at">q =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span></code></pre></div>
</div>
</div>
<p>The normal distribution is not the only one that we can use the four functions introduced above with. Table <a href="functions.html#tab:dist-tab">4.1</a> shows some other distributions that can be used. In order to use a different distribution, simply change the <code>norm</code> part in the function name to the distribution's R name. Change the arguments <code>mean =</code> and <code>sd =</code> to the relevant arguments for your chosen distribution as well.</p>
<table>
<caption>
<span id="tab:dist-tab">Table 4.1: </span>Distribution names and arguments to use with probability functions.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Distribution
</th>
<th style="text-align:left;">
R Name
</th>
<th style="text-align:left;">
Arguments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;background-color: white !important;">
Normal
</td>
<td style="text-align:left;background-color: white !important;">
<code>norm</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>mean = 0</code>: the mean with default value 0.<br />
<code>sd = 1</code>: the standard deviation with default value 1.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Binomial
</td>
<td style="text-align:left;background-color: white !important;">
<code>binom</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>size =</code>: the number of trials.<br />
<code>prob =</code>: the probability of success for each trial.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Exponential
</td>
<td style="text-align:left;background-color: white !important;">
<code>exp</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>rate = 1</code>: the value of <span class="math inline">\(\theta\)</span> with default value 1.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Geometric
</td>
<td style="text-align:left;background-color: white !important;">
<code>geom</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>prob =</code>: the probability of success in each trial.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Hypergeometric
</td>
<td style="text-align:left;background-color: white !important;">
<code>hyper</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>m =</code>: the number of objects of type I in the population.<br />
<code>n =</code>: the number of objects <strong>not</strong> of type I in the population.<br />
<code>k =</code>: the size of the sample taken from the population.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Negative Binomial
</td>
<td style="text-align:left;background-color: white !important;">
<code>nbinom</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>size =</code>: the number of successful trials you want to observe.<br />
<code>prob =</code>: the probability of success in each trial.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Poisson
</td>
<td style="text-align:left;background-color: white !important;">
<code>pois</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>lambda =</code>: the value of <span class="math inline">\(\lambda\)</span>.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Student's t
</td>
<td style="text-align:left;background-color: white !important;">
<code>t</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>df =</code>: the degrees of freedom.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Uniform
</td>
<td style="text-align:left;background-color: white !important;">
<code>unif</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>min = 0</code>: the lower limit of the distribution with default value 0.<br />
<code>max = 1</code>: the upper limit of the distribution with default value 1.
</td>
</tr>
<tr>
<td style="text-align:left;background-color: white !important;">
Chi-square
</td>
<td style="text-align:left;background-color: white !important;">
<code>chisq</code>
</td>
<td style="text-align:left;background-color: white !important;">
<code>df =</code>: the degrees of freedom.
</td>
</tr>
</tbody>
</table>
<hr />
<p>To read more, see <a href="https://read.kortext.com/reader/pdf/92741/68">Section 1.15 Probability Functions</a> in <em>Probability and Statistics with R</em>.</p>
</div>
<div id="flow-control" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Flow control<a href="functions.html#flow-control" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Flow control is the term used to describe the order that your code is carried out. Usually this just happens line by line, but there may be cases where you want to repeat and update certain code over and over. To save you time having to type out a lot of repeating code, there are functions in R which can help you to repeat certain operations.</p>
<p>The <code>for()</code> function allows you to repeat lines of code for a given number of repetitions. Sometimes using the <code>for()</code> function is referred to as a <strong>for loop</strong> because once you have run multiple lines of code, it loops back to the beginning and does it all again. The setup is:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="functions.html#cb69-1" tabindex="-1"></a><span class="cf">for</span>(name <span class="cf">in</span> vector){</span>
<span id="cb69-2"><a href="functions.html#cb69-2" tabindex="-1"></a>  statements</span>
<span id="cb69-3"><a href="functions.html#cb69-3" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>name</code>: this is the name you want to use for the index in each iteration of the repeated statements. Most commonly this is given the value <code>i</code>.</li>
<li><code>vector</code>: this is a vector which is the same length as the number of times you want to repeat the statements.</li>
<li><code>statements</code>: these are the lines of code you want to repeat a number of times.</li>
</ul>
<p>In order to fully understand how the <code>for()</code> function works, let's look at an example. We could use the <code>for()</code> function to print the numbers 1 up to 5.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="functions.html#cb70-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb70-2"><a href="functions.html#cb70-2" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb70-3"><a href="functions.html#cb70-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</code></pre>
<p>Here, we have assigned the value <code>i</code> to the <code>name</code> argument and the vector is <code>1:5</code>. The <code>:</code> operator returns the sequence of numbers from 1 to 5 in this case.</p>
<p>The for loop will first of all give <code>i</code> the value 1 and then run the statements within <code>{ }</code>, so here it will run <code>print(1)</code>. <code>print()</code> is a function we haven't seen yet, but it just 'prints' the arguments to the R console so we will see the value 1 written there.</p>
<p>Next, the for loop will update the value of <code>i</code> to the next one given in the <code>vector</code> argument i.e. it will assign the value 2 to <code>i</code>. Then it will again run <code>print(2)</code> and update the value of <code>i</code> again. This will repeat until <code>i</code> has taken all the values given in the <code>vector</code> argument.</p>
<div class="webex-box webex-check">
<p><strong>Complete the following code to sum together the numbers 1 to 12.</strong></p>
<div class="webex-code">
<p><code>sum &lt;-</code><input class='webex-solveme nospaces' size='1' data-answer='["0"]'/></p>
<ul style="margin-top: 1.8em; margin-left: -2em;">
<code>for(i in</code><input class='webex-solveme nospaces' size='4' data-answer='["1:12"]'/><code>){</code>
</ul>
<ul style="margin-top: -0.8em; margin-left: -1em">
<code>sum &lt;- sum +</code><input class='webex-solveme nospaces' size='1' data-answer='["i"]'/>
</ul>
<ul style="margin-top: -0.8em; margin-left: -2em">
<code>}</code>
</ul>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<p>We start by creating the vector <code>sum</code> to which each value 1, 2, ..., 12 can be added. Initially it needs to take the value 0.</p>
<p>Within the function <code>for()</code>, we want <code>i</code> to, in turn, take each value 1, 2, ..., 12, so we need to provide a vector of these values (<code>1:12</code>). <code>sum</code> should then be updated each time <code>i</code> takes a new value, by adding it on to the old value of <code>sum</code>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="functions.html#cb72-1" tabindex="-1"></a>sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb72-2"><a href="functions.html#cb72-2" tabindex="-1"></a></span>
<span id="cb72-3"><a href="functions.html#cb72-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>){</span>
<span id="cb72-4"><a href="functions.html#cb72-4" tabindex="-1"></a>  sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> i</span>
<span id="cb72-5"><a href="functions.html#cb72-5" tabindex="-1"></a>}</span></code></pre></div>
<p>This for loop starts with <code>sum</code> having the value 0. It will first assign 1 to <code>i</code> and execute the code <code>sum &lt;- 0 + 1</code>, meaning <code>sum</code> now has the value 1.</p>
<ul>
<li><p><code>i</code> will then be updated to take the value 2 and the for loop will run the code <code>sum &lt;- 1 + 2</code> i.e. <code>sum</code> has the value 3.</p></li>
<li><p><code>i</code> will then be updated to take the value 3 and the for loop will run the code <code>sum &lt;- 3 + 3</code> i.e. <code>sum</code> has the value 6.</p></li>
<li><p><span class="math inline">\(\vdots\)</span></p></li>
</ul>
<p>This repeats until finally <code>i</code> is assigned the value 12 and the for loop updates <code>sum</code> for the last time.</p>
</div>
</div>
<div class="webex-box webex-check">
<p><strong>Using the above code, what is the value of <span class="math inline">\(1+2+3+...+12\)</span>?</strong>
<input class='webex-solveme nospaces' size='7' data-answer='["78","78.0","78.00","78.000","78.0000"]'/></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="functions.html#cb73-1" tabindex="-1"></a>sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb73-2"><a href="functions.html#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="functions.html#cb73-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>){</span>
<span id="cb73-4"><a href="functions.html#cb73-4" tabindex="-1"></a>  sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> i</span>
<span id="cb73-5"><a href="functions.html#cb73-5" tabindex="-1"></a>}</span>
<span id="cb73-6"><a href="functions.html#cb73-6" tabindex="-1"></a></span>
<span id="cb73-7"><a href="functions.html#cb73-7" tabindex="-1"></a>sum</span></code></pre></div>
<pre><code>[1] 78</code></pre>
<p>Running the code above updates <code>sum</code> several times until it takes the value 78. Therefore the value of <span class="math inline">\(1+2+3+...+12=78\)</span>.</p>
</div>
</div>
<p>You might not always know how many times you want to repeat certain lines of code. When this is the case the <code>while()</code> function can be used to repeat code while a given condition is satisfied. Once this condition is no longer <code>TRUE</code>, the loop will stop. The <code>while()</code> function has a similar setup to for loops.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="functions.html#cb75-1" tabindex="-1"></a><span class="cf">while</span>(condition){</span>
<span id="cb75-2"><a href="functions.html#cb75-2" tabindex="-1"></a>  statements</span>
<span id="cb75-3"><a href="functions.html#cb75-3" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>condition</code>: this is logical statement that can take the values <code>TRUE</code> or <code>FALSE</code>. When it is true, the statements will be repeated. When it is <code>FALSE</code>, the statements will not be evaluated.</li>
<li><code>statements</code>: these are the lines of code you want to repeat a number of times.</li>
</ul>
<p>We could use a <strong>while loop</strong> to calculate the sum of the numbers 0, 1, 2, 3, 4, 5, ... up until their total first goes over 100. The code below does this by first creating the vectors <code>i</code>, which lists all the values we want to sum together, and <code>total</code>, to keep track of the sum of all the values in <code>i</code>. Initially <code>i</code> only contains the value 0 and <code>total</code> is also set to 0.</p>
<p>Because we only want to sum together the values in <code>i</code> until <code>total</code> first goes over 100, the condition we provide within <code>while()</code> is <code>total &lt; 100</code> which means the while loop will continue to run only while the value of <code>total</code> is less than 100.</p>
<p>Because <code>i</code> starts as only 0 and <code>total</code> is set to 0, the first iteration of the while loop updates <code>i</code> to be <span class="math inline">\(\begin{bmatrix}0&amp;1 \end{bmatrix}^\intercal\)</span> and then it updates <code>total</code> to now also be 1 (since this is the sum of all the values currently in <code>i</code>). The second iteration then extends <code>i</code> to be <span class="math inline">\(\begin{bmatrix}0&amp;1&amp;2 \end{bmatrix}^\intercal\)</span> and updates <code>total</code> again to be <span class="math inline">\(0+1+2=3\)</span>.</p>
<p>Within the while loop, we continuously extend <code>i</code> by adding the next number in the sequence to the end of it. This is done using the function <code>max()</code> which looks at all values in a vector and returns the maximum. We then update <code>total</code> to be the sum of all the values in <code>i</code>. This is done by using the function <code>sum()</code> which sums together all values in a numeric vector. This continues until <code>total</code> reaches a value which is greater than 100, at which point the while loop stops.</p>
<p>The final line prints the final versions of <code>i</code> and <code>total</code> so we can see that the vector <code>i</code> contains the values 0 up to 14 and that the sum of all these values, given by <code>total</code> is 105.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="functions.html#cb76-1" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb76-2"><a href="functions.html#cb76-2" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb76-3"><a href="functions.html#cb76-3" tabindex="-1"></a></span>
<span id="cb76-4"><a href="functions.html#cb76-4" tabindex="-1"></a><span class="cf">while</span>(total <span class="sc">&lt;</span> <span class="dv">100</span>){</span>
<span id="cb76-5"><a href="functions.html#cb76-5" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">c</span>(i, <span class="fu">max</span>(i)<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb76-6"><a href="functions.html#cb76-6" tabindex="-1"></a>  total <span class="ot">&lt;-</span> <span class="fu">sum</span>(i)</span>
<span id="cb76-7"><a href="functions.html#cb76-7" tabindex="-1"></a>}</span>
<span id="cb76-8"><a href="functions.html#cb76-8" tabindex="-1"></a></span>
<span id="cb76-9"><a href="functions.html#cb76-9" tabindex="-1"></a><span class="fu">list</span>(<span class="st">&quot;i&quot;</span> <span class="ot">=</span> i, <span class="st">&quot;total&quot;</span> <span class="ot">=</span> total)</span></code></pre></div>
<pre><code>$i
 [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14

$total
[1] 105</code></pre>
<p><strong>If statements</strong> are another useful form of flow control. They have a very similar set up to the <code>for()</code> and <code>while()</code> functions.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="functions.html#cb78-1" tabindex="-1"></a><span class="cf">if</span>(condition){</span>
<span id="cb78-2"><a href="functions.html#cb78-2" tabindex="-1"></a>  statements</span>
<span id="cb78-3"><a href="functions.html#cb78-3" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb78-4"><a href="functions.html#cb78-4" tabindex="-1"></a>  statements</span>
<span id="cb78-5"><a href="functions.html#cb78-5" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>condition</code>: this is a logical statement that can take the values <code>TRUE</code> or <code>FALSE</code>. If the condition is <code>TRUE</code> then the statements in the <code>{ }</code> immediately after will be evaluated.</li>
<li><code>else</code>: this is an optional part of the if statement. If there is code you wish to run when the condition is <code>FALSE</code>, it is placed in the <code>{ }</code> after this statement.</li>
</ul>
<p>For example, we can write code to tell us whether a random value generated from the standard normal distribution lies in the region [-1, 1] using the following code.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="functions.html#cb79-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb79-2"><a href="functions.html#cb79-2" tabindex="-1"></a></span>
<span id="cb79-3"><a href="functions.html#cb79-3" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">1</span>){</span>
<span id="cb79-4"><a href="functions.html#cb79-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is in the region [-1, 1]&quot;</span>)</span>
<span id="cb79-5"><a href="functions.html#cb79-5" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb79-6"><a href="functions.html#cb79-6" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is not in the region [-1, 1]&quot;</span>)</span>
<span id="cb79-7"><a href="functions.html#cb79-7" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>[1] 0.1112213</code></pre>
<pre><code>[1] &quot;x is in the region [-1, 1]&quot;</code></pre>
<div class="webex-box webex-check">
<p><strong>What would the value of <code>y</code> be after running the following if statement? Try to answer without running the code yourself.</strong></p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="functions.html#cb82-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">4</span></span>
<span id="cb82-2"><a href="functions.html#cb82-2" tabindex="-1"></a></span>
<span id="cb82-3"><a href="functions.html#cb82-3" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb82-4"><a href="functions.html#cb82-4" tabindex="-1"></a>  y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb82-5"><a href="functions.html#cb82-5" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb82-6"><a href="functions.html#cb82-6" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="sc">-</span>(x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb82-7"><a href="functions.html#cb82-7" tabindex="-1"></a>}</span></code></pre></div>
<p><select class='webex-select'><option value='blank'></option><option value=''>16</option><option value='answer'>-16</option><option value=''>-8</option><option value=''>8</option><option value=''>NA</option></select></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>Running the code above updates the value of <code>y</code> to be -16.</p>
</div>
</div>
<hr />
<p>You can read more about for loops, while loops and if statements in <a href="https://read.kortext.com/reader/pdf/92741/69">Section 1.16 Flow Control</a> of <em>Probability and Statistics with R</em>.</p>
</div>
<div id="creating-functions" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Creating functions<a href="functions.html#creating-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far we have used a number of in built functions in R. It is also possible to create your own functions, specifying the required arguments and what it does.</p>
<p>The setup for creating your own function using <code>function()</code> is as follows.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="functions.html#cb83-1" tabindex="-1"></a>fname <span class="ot">&lt;-</span> <span class="cf">function</span>(argument1, argument2, ...){</span>
<span id="cb83-2"><a href="functions.html#cb83-2" tabindex="-1"></a>  expression</span>
<span id="cb83-3"><a href="functions.html#cb83-3" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>fname</code>: this is the name you want to give to your function. It can be anything you choose but try not to use names of functions that already exist.</li>
<li><code>argument1</code>: this is the name of the first argument to be given when you use your function. You can add as many arguments as is necessary for your function to work.</li>
<li><code>expression</code>: this is what you want your function to evaluate. You write this out using the argument names you have specified.</li>
</ul>
<p>For example, we can write a function, <code>normal()</code>, that:</p>
<ul>
<li>draws <code>n</code> random values from a normal distribution with mean <code>m</code> and standard deviation <code>s</code></li>
<li>orders them from smallest to largest</li>
<li>for each random value <span class="math inline">\(x\)</span>, returns the probability <span class="math inline">\(\mathbb{P}(X\leq x)\)</span> and the value of the probability density function at this value, <span class="math inline">\(f(x)\)</span></li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="functions.html#cb84-1" tabindex="-1"></a>normal <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">m =</span> <span class="dv">0</span>, <span class="at">s =</span> <span class="dv">1</span>){</span>
<span id="cb84-2"><a href="functions.html#cb84-2" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> n, <span class="at">mean =</span> m, <span class="at">sd =</span> s)</span>
<span id="cb84-3"><a href="functions.html#cb84-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">sort</span>(x)</span>
<span id="cb84-4"><a href="functions.html#cb84-4" tabindex="-1"></a>  prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> x, <span class="at">mean =</span> m, <span class="at">sd =</span> s)</span>
<span id="cb84-5"><a href="functions.html#cb84-5" tabindex="-1"></a>  pdf <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(<span class="at">x =</span> x, <span class="at">mean =</span> m, <span class="at">sd =</span> s)</span>
<span id="cb84-6"><a href="functions.html#cb84-6" tabindex="-1"></a>  <span class="fu">cbind</span>(x, prob, pdf)</span>
<span id="cb84-7"><a href="functions.html#cb84-7" tabindex="-1"></a>}</span></code></pre></div>
<p>Here we have specified default values of <code>m = 0</code> and <code>s = 1</code> in our function. This means that if someone uses the function <code>normal</code> without specifying values for these arguments, then it will automatically use <code>m = 0</code> and <code>s = 1</code>.</p>
<p>Note that any vectors we create within the expression for the function are not saved to your <strong>Environment</strong> tab.</p>
<p>We can then use this new function <code>normal()</code> to see this information for 5 random values from the <span class="math inline">\(N(200, 40)\)</span> distribution.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="functions.html#cb85-1" tabindex="-1"></a><span class="fu">normal</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">m =</span> <span class="dv">200</span>, <span class="at">s =</span> <span class="dv">40</span>)</span></code></pre></div>
<pre><code>            x      prob         pdf
[1,] 194.7766 0.4480522 0.009888883
[2,] 201.2908 0.5128713 0.009968366
[3,] 204.4489 0.5442796 0.009912060
[4,] 234.8700 0.8083276 0.006820707
[5,] 268.3736 0.9563059 0.002314091</code></pre>
<p>The arguments you use within a function can be either 'named' or 'positional'.</p>
<p>Named arguments are ones where you use the name given in the setup of the function. For example, in our function <code>normal()</code>, the argument for the mean is called <code>m</code>. You can change the value of the mean using <code>m = 4</code> within the <code>normal()</code> function for example.</p>
<p>Positional arguments are ones where you don't use the name of the argument given in the setup of the function. For example, we could replicate the above output using the following code where the argument names have not been used.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="functions.html#cb87-1" tabindex="-1"></a><span class="fu">normal</span>(<span class="dv">5</span>, <span class="dv">200</span>, <span class="dv">40</span>)</span></code></pre></div>
<pre><code>            x      prob         pdf
[1,] 194.7766 0.4480522 0.009888883
[2,] 201.2908 0.5128713 0.009968366
[3,] 204.4489 0.5442796 0.009912060
[4,] 234.8700 0.8083276 0.006820707
[5,] 268.3736 0.9563059 0.002314091</code></pre>
<p>The important thing to remember when using positional arguments is that they are in the same order that their names are specified in the setup of the function so R knows how to match up the values correctly. For example, in the <code>normal()</code> function, the mean needs to be the second argument specified and the standard deviation needs to be the third.</p>
<hr />
<p>For more information on writing your own functions in R, see <a href="https://read.kortext.com/reader/pdf/92741/74">Section 1.17 Creating Functions</a> in <em>Probability and Statistics with R</em>.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Check Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Check Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercises.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
